(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d0ddaa3"],{"1eae":function(e,s,t){},"382b":function(e,s,t){"use strict";t("392c")},"392c":function(e,s,t){},"6fce":function(e,s,t){"use strict";t("1eae")},"7cad":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"data-list-container",attrs:{id:"data-list-list-view"}},[t("user-sidebar",{attrs:{isSidebarActive:e.addNewDataSidebar,data:e.sidebarData},on:{closeSidebar:e.toggleDataSidebar}}),t("vs-table",{ref:"table",attrs:{pagination:"","max-items":e.itemsPerPage,search:"",data:e.users},scopedSlots:e._u([{key:"default",fn:function(s){var a=s.data;return[t("tbody",e._l(a,(function(s,a){return t("vs-tr",{key:a,attrs:{data:s}},[t("vs-td",[t("p",{staticClass:"product-name font-medium truncate"},[e._v(e._s(s.name))])]),t("vs-td",[t("p",{staticClass:"product-name font-medium truncate"},[e._v(e._s(s.surname))])]),t("vs-td",[t("p",{staticClass:"product-name font-medium truncate"},[e._v(e._s(s.email))])]),t("vs-td",[t("p",{staticClass:"product-name font-medium truncate"},[e._v(e._s(s.phone))])]),t("vs-td",[t("p",{staticClass:"product-name font-medium truncate"},[e._v(e._s(s.gender))])]),t("vs-td",[t("p",{staticClass:"product-name font-medium truncate"},[e._v(e._s(s.company.companyName))])]),t("vs-td",{staticClass:"whitespace-no-wrap"},[t("feather-icon",{attrs:{icon:"EditIcon",svgClasses:"w-5 h-5 hover:text-primary stroke-current"},on:{click:function(t){return t.stopPropagation(),e.editData(s)}}}),t("feather-icon",{staticClass:"ml-2",attrs:{icon:"TrashIcon",svgClasses:"w-5 h-5 hover:text-danger stroke-current"},on:{click:function(t){return t.stopPropagation(),e.deleteData(s)}}})],1)],1)})),1)]}}]),model:{value:e.selected,callback:function(s){e.selected=s},expression:"selected"}},[t("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[t("div",{staticClass:"flex flex-wrap-reverse items-center data-list-btn-container"},[t("div",{staticClass:"btn-add-new p-3 mb-4 mr-4 rounded-lg cursor-pointer flex items-center justify-center text-lg font-medium text-base text-primary border border-solid border-primary",on:{click:e.addNewData}},[t("feather-icon",{attrs:{icon:"PlusIcon",svgClasses:"h-4 w-4"}}),t("span",{staticClass:"ml-2 text-base text-primary"},[e._v("Add New")])],1)]),t("vs-dropdown",{staticClass:"cursor-pointer mb-4 mr-4 items-per-page-handler",attrs:{"vs-trigger-click":""}},[t("div",{staticClass:"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[t("span",{staticClass:"mr-2"},[e._v(e._s(e.currentPage*e.itemsPerPage-(e.itemsPerPage-1))+" - "+e._s(e.users.length-e.currentPage*e.itemsPerPage>0?e.currentPage*e.itemsPerPage:e.users.length)+" of "+e._s(e.queriedItems))]),t("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),t("vs-dropdown-menu",[t("vs-dropdown-item",{on:{click:function(s){e.itemsPerPage=4}}},[t("span",[e._v("4")])]),t("vs-dropdown-item",{on:{click:function(s){e.itemsPerPage=10}}},[t("span",[e._v("10")])]),t("vs-dropdown-item",{on:{click:function(s){e.itemsPerPage=15}}},[t("span",[e._v("15")])]),t("vs-dropdown-item",{on:{click:function(s){e.itemsPerPage=20}}},[t("span",[e._v("20")])])],1)],1)],1),t("template",{slot:"thead"},[t("vs-th",[e._v("Name")]),t("vs-th",[e._v("Surname")]),t("vs-th",[e._v("Email")]),t("vs-th",[e._v("Phone")]),t("vs-th",[e._v("Gender")]),t("vs-th",[e._v("Company Name")]),t("vs-th",[e._v("Action")])],1)],2)],1)},r=[],n=(t("96cf"),t("1da1")),i=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("vs-sidebar",{staticClass:"add-new-data-sidebar items-no-padding",attrs:{"click-not-close":"","position-right":"",parent:"body","default-index":"1",color:"primary",spacer:""},model:{value:e.isSidebarActiveLocal,callback:function(s){e.isSidebarActiveLocal=s},expression:"isSidebarActiveLocal"}},[t("div",{staticClass:"mt-6 flex items-center justify-between px-6"},[t("h4",[e._v(e._s(0===Object.entries(this.data).length?"ADD NEW":"UPDATE")+" USER")]),t("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"XIcon"},on:{click:function(s){s.stopPropagation(),e.isSidebarActiveLocal=!1}}})],1),t("vs-divider",{staticClass:"mb-0"}),t(e.scrollbarTag,{key:e.$vs.rtl,tag:"component",staticClass:"scroll-area--data-list-add-new",attrs:{settings:e.settings}},[t("div",{staticClass:"p-6"},[t("v-select",{attrs:{options:e.companies,reduce:function(e){return e._id},label:"companyName",dir:e.$vs.rtl?"rtl":"ltr"},model:{value:e.company,callback:function(s){e.company=s},expression:"company"}}),t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:50",expression:"'required|max:50'"}],staticClass:"mt-5 w-full",attrs:{label:"Name",name:"name"},model:{value:e.name,callback:function(s){e.name=s},expression:"name"}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("name"),expression:"errors.has('name')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("name")))]),t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:50",expression:"'required|max:50'"}],staticClass:"mt-5 w-full",attrs:{label:"Surname",name:"surname"},model:{value:e.surname,callback:function(s){e.surname=s},expression:"surname"}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("surname"),expression:"errors.has('surname')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("surname")))]),t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email|max:50",expression:"'required|email|max:50'"}],staticClass:"mt-5 w-full",attrs:{label:"Email",name:"email"},model:{value:e.email,callback:function(s){e.email=s},expression:"email"}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("email"),expression:"errors.has('email')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("email")))]),t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:{regex:"^([0-9]+)$"},expression:"{regex: '^([0-9]+)$' }"}],staticClass:"mt-5 w-full",attrs:{label:"Phone",name:"phone"},model:{value:e.phone,callback:function(s){e.phone=s},expression:"phone"}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("phone"),expression:"errors.has('phone')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("phone")))]),t("v-select",{staticClass:"mt-5 w-full",attrs:{options:["Male","Female"],dir:e.$vs.rtl?"rtl":"ltr"},model:{value:e.gender,callback:function(s){e.gender=s},expression:"gender"}}),t("vs-input",{directives:[{name:"show",rawName:"v-show",value:e.isEditNormal,expression:"isEditNormal"},{name:"validate",rawName:"v-validate",value:"max:50",expression:"'max:50'"}],staticClass:"mt-5 w-full",attrs:{label:"New Password",name:"newPassword"},model:{value:e.newPassword,callback:function(s){e.newPassword=s},expression:"newPassword"}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("newPassword"),expression:"errors.has('newPassword')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("newPassword")))]),t("vs-input",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"},{name:"validate",rawName:"v-validate",value:"max:50",expression:"'max:50'"}],staticClass:"mt-5 w-full",attrs:{label:"New Password Re",name:"newPassword2"},model:{value:e.newPassword2,callback:function(s){e.newPassword2=s},expression:"newPassword2"}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("newPassword2"),expression:"errors.has('newPassword2')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("newPassword2")))])],1)]),t("div",{staticClass:"flex flex-wrap items-center p-6",attrs:{slot:"footer"},slot:"footer"},[t("vs-button",{staticClass:"mr-6",attrs:{disabled:!e.isFormValid},on:{click:e.submitData}},[e._v("Submit")]),t("vs-button",{staticClass:"mr-6",attrs:{color:"warning",disabled:!e.isPasswordValid},on:{click:e.updatePassword}},[e._v("Pass Update")])],1)],1)},o=[],l=(t("7f7f"),t("ac6a"),t("ffc1"),t("9d63")),c=t.n(l),d=t("4a7a"),u=t.n(d),m={props:{isSidebarActive:{type:Boolean,required:!0},data:{type:Object,default:function(){}},settings:{maxScrollbarLength:60,wheelSpeed:.6}},components:{VuePerfectScrollbar:c.a,"v-select":u.a},data:function(){return{isEdit:!1,isEditNormal:!1,_id:null,name:null,surname:null,email:null,phone:null,gender:null,company:null,newPassword:null,newPassword2:null}},watch:{isSidebarActive:function(e){if(e)if(0===Object.entries(this.data).length)this.initValues(),this.$validator.reset();else{var s=JSON.parse(JSON.stringify(this.data)),t=s._id,a=s.name,r=s.surname,n=s.email,i=s.phone,o=s.gender,l=s.company;this._id=t,this.name=a,this.surname=r,this.email=n,this.phone=i,this.gender=o,this.company=l,this.newPassword=null,this.newPassword2=null,this.isEdit=!0,this.isEditNormal=!0}}},computed:{isSidebarActiveLocal:{get:function(){return this.isSidebarActive},set:function(e){e||this.$emit("closeSidebar")}},isFormValid:function(){return!this.errors.any()&&this.name&&this.surname&&this.email&&this.phone&&this.gender&&this.company},isPasswordValid:function(){return!(this.newPassword!=this.newPassword2||this.errors.any()||""==this.newPassword||!this.newPassword2)},scrollbarTag:function(){return this.$store.getters.scrollbarTag},companies:function(){return this.$store.state.companies.allCompanies}},methods:{initValues:function(){this._id=null,this.name=null,this.surname=null,this.email=null,this.phone=null,this.gender=null,this.company=null,this.newPassword=null,this.isEditNormal=!0,this.isEdit=!1},submitData:function(){var e=this;this.$validator.validateAll().then((function(s){if(s){var t={name:e.name,surname:e.surname,email:e.email,password:e.newPassword,phone:e.phone,gender:e.gender,company:e.company};if(null!==e._id){var a={obj:t,_id:e._id};console.log("payload",a),e.$store.dispatch("updateUser",a).catch((function(e){console.error(e)}))}else delete t._id,e.$store.dispatch("createUser",t).catch((function(e){console.error(e)}));e.$emit("closeSidebar"),e.initValues()}}))},updatePassword:function(){var e={_id:this._id,newPassword:this.newPassword};this.$store.dispatch("passwordUpdate",e).catch((function(e){console.error(e)}))}},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("getAllCompanies");case 2:case"end":return e.stop()}}),e,this)})));function s(){return e.apply(this,arguments)}return s}()},h=m,p=(t("382b"),t("2877")),v=Object(p["a"])(h,i,o,!1,null,"a9715a0a",null),w=v.exports,f={components:{UserSidebar:w},data:function(){return{selected:[],itemsPerPage:10,isMounted:!1,addNewDataSidebar:!1,sidebarData:{},users:[{name:null,surname:null,email:null,phone:null,gender:null,company:{companyName:null}}]}},computed:{currentPage:function(){return this.isMounted?this.$refs.table.currentx:0},queriedItems:function(){return this.$refs.table?this.$refs.table.queriedResults.length:this.users.length}},methods:{addNewData:function(){this.sidebarData={},this.toggleDataSidebar(!0)},deleteData:function(e){this.$store.dispatch("deleteUser",e._id).catch((function(e){console.error(e)}))},editData:function(e){this.sidebarData=e,this.toggleDataSidebar(!0)},toggleDataSidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.addNewDataSidebar=e}},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("getAllUsers");case 2:this.users=this.$store.state.users.allUsers,this.isMounted=!0;case 4:case"end":return e.stop()}}),e,this)})));function s(){return e.apply(this,arguments)}return s}()},b=f,g=(t("6fce"),Object(p["a"])(b,a,r,!1,null,null,null));s["default"]=g.exports}}]);
//# sourceMappingURL=chunk-0d0ddaa3.e77a264a.js.map