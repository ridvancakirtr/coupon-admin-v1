(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f0f2808"],{"0078":function(t,e,s){"use strict";var a="http://localhost:1010/uploads/logo/",n="http://localhost:1010/uploads/image/";e["a"]={photoCompanyLogobaseURL:a,photoDealbaseURL:n}},"84f9":function(t,e,s){"use strict";s("caae")},"861b":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"data-list-container",attrs:{id:"data-list-thumb-view"}},[s("div",{staticClass:"vx-row"},[s("div",{staticClass:"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/4 xl:w-1/4"},[s("statistics-card-line",{staticClass:"mb-base",attrs:{hideChart:"",icon:"AlertOctagonIcon","icon-right":"",statistic:t.companyInform.companyName,statisticTitle:"Company Name"}})],1),s("div",{staticClass:"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/4 xl:w-1/4"},[s("statistics-card-line",{staticClass:"mb-base",attrs:{hideChart:"",icon:"AlertOctagonIcon","icon-right":"",statistic:t.deals.length,statisticTitle:"Total Deal",color:"Danger"}})],1)]),s("vs-table",{ref:"table",attrs:{pagination:"","max-items":t.itemsPerPage,search:"",data:t.deals},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return[s("tbody",t._l(a,(function(e,a){return s("vs-tr",{key:a,attrs:{data:e}},[s("vs-td",[s("vs-chip",{staticClass:"product-name font-medium truncate ml-5",attrs:{color:e.isNotification?"danger":"success"}})],1),s("vs-td",[s("p",{staticClass:"product-name font-medium truncate"},[t._v(t._s(e.name))])]),s("vs-td",[s("p",{staticClass:"product-name font-medium truncate"},[t._v(t._s(e.surname))])]),s("vs-td",[s("p",{staticClass:"product-name font-medium truncate"},[t._v(t._s(e.phone))])]),s("vs-td",[s("p",{staticClass:"product-name font-medium truncate"},[t._v(t._s(e.deal.code))])]),s("vs-td",[s("p",{staticClass:"product-name font-medium truncate"},[t._v(t._s(e.deal.title))])]),s("vs-td",[s("p",{staticClass:"product-name font-medium truncate"},[t._v(t._s(e.deal.description))])]),s("vs-td",[s("vs-chip",{staticClass:"product-name font-medium truncate",attrs:{color:"success"}},[t._v(t._s(t._f("date")(e.deal.startDate)))])],1),s("vs-td",[s("vs-chip",{staticClass:"product-name font-medium truncate",attrs:{color:"danger"}},[t._v(t._s(t._f("date")(e.deal.endDate)))])],1),s("vs-td",{staticClass:"img-container"},[s("img",{staticClass:"product-img",attrs:{src:t.image+e.deal.image}})])],1)})),1)]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[s("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[s("vs-dropdown",{staticClass:"cursor-pointer mb-4 mr-4 items-per-page-handler",attrs:{"vs-trigger-click":""}},[s("div",{staticClass:"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[s("span",{staticClass:"mr-2"},[t._v(t._s(t.currentPage*t.itemsPerPage-(t.itemsPerPage-1))+" - "+t._s(t.deals.length-t.currentPage*t.itemsPerPage>0?t.currentPage*t.itemsPerPage:t.deals.length)+" of "+t._s(t.queriedItems))]),s("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),s("vs-dropdown-menu",[s("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=4}}},[s("span",[t._v("4")])]),s("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=10}}},[s("span",[t._v("10")])]),s("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=15}}},[s("span",[t._v("15")])]),s("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=20}}},[s("span",[t._v("20")])])],1)],1)],1),s("template",{slot:"thead"},[s("vs-th",{attrs:{"sort-key":"name"}},[t._v("Status")]),s("vs-th",{attrs:{"sort-key":"name"}},[t._v("Name")]),s("vs-th",{attrs:{"sort-key":"name"}},[t._v("Surname")]),s("vs-th",[t._v("Phone")]),s("vs-th",[t._v("Code")]),s("vs-th",[t._v("Title")]),s("vs-th",[t._v("Description")]),s("vs-th",[t._v("Start Date")]),s("vs-th",[t._v("End Date")]),s("vs-th",[t._v("Image")])],1)],2)],1)},n=[],r=(s("ac6a"),s("96cf"),s("1da1")),i=s("0078"),o=s("d6b0"),c=s.n(o),l=s("43ca"),u={components:{StatisticsCardLine:l["a"]},data:function(){return{selected:[],itemsPerPage:10,isMounted:!1,addNewDataSidebar:!1,sidebarData:{},image:i["a"].photoDealbaseURL,companyInform:{companyName:""},oneTime:!0}},watch:{selected:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s={_id:e._id,isNotification:!1},t.next=3,this.$store.dispatch("updateCustomerNotification",s);case 3:return t.next=5,this.$store.dispatch("getAllDealsbyCustomers",this.$store.state.auth.me.company);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),times:function(t){3==t&&clearInterval(myVar)}},computed:{currentPage:function(){return this.isMounted?this.$refs.table.currentx:0},deals:function(){var t=this,e=this.$store.state.customer.allDeals;return 0!=e.length&&e.forEach((function(e){t.notification(e.isNotification)})),e},queriedItems:function(){return this.$refs.table?this.$refs.table.queriedResults.length:this.deals.length}},methods:{toggleDataSidebar:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.addNewDataSidebar=t},notification:function(t){if(console.log("bool--\x3e",t),t&&this.oneTime)var e=function(){if(3==s)clearInterval(a);else{var t=new Audio(c.a);t.play(),s++}},s=0,a=setInterval(e,1e3)}},created:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=function(){return a=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getAllDealsbyCustomers",e.$store.state.auth.me.company);case 2:case"end":return t.stop()}}),t)}))),a.apply(this,arguments)},s=function(){return a.apply(this,arguments)},e=this,setInterval(s,6e4),t.next=6,this.$store.dispatch("getAllDealsbyCustomers",this.$store.state.auth.me.company);case 6:return t.next=8,this.$store.dispatch("getCompany",this.$store.state.auth.me.company);case 8:this.companyInform=this.$store.state.companies.companyInform;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){this.isMounted=!0}},d=u,m=(s("84f9"),s("2877")),p=Object(m["a"])(d,a,n,!1,null,null,null);e["default"]=p.exports},caae:function(t,e,s){},d6b0:function(t,e,s){t.exports=s.p+"media/beep.db9c49a1.mp3"}}]);
//# sourceMappingURL=chunk-0f0f2808.030eef10.js.map